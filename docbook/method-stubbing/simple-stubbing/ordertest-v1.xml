<?xml version="1.0" encoding="UTF-8"?>
<example xmlns="http://docbook.org/ns/docbook" id="method-stubbing.simple-stubbing.ordertest-v1">
	<title>ShoppingCartTest</title>
		<programlisting><![CDATA[<?php

class ShoppingCartTest extends PHPUnit_Framework_TestCase
{
	private $shoppingCart;

	private $item1;

	private $item2;

	private $item3;

	public function setUp()
	{
		$item1 = Phake::mock('Item');
		$item2 = Phake::mock('Item');
		$item3 = Phake::mock('Item');

		Phake::when($item1)->getPrice()->thenReturn(100);
		Phake::when($item2)->getPrice()->thenReturn(200);
		Phake::when($item3)->getPrice()->thenReturn(300);

		$this->shoppingCart = new ShoppingCart();
		$this->shoppingCart->addItem($item1);
		$this->shoppingCart->addItem($item2);
		$this->shoppingCart->addItem($item3);
	}

	public function testGetSub()
	{
		$this->assertEquals(600, $this->shoppingCart->getSubTotal());
	}
}
?>]]></programlisting>
</example>
